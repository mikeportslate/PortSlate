{% extends "base_site.html" %}

{% block title %} Task Management {% endblock title %}

{% block stylesheets %}
  {{ super() }}
{% endblock stylesheets %}

{% block content %}
  {% include 'confirm_deletion_modal.html' %}
  {% include 'task_modal.html' %}
  <div class="right_col" role="main">
    <div class="row">
      <div class="col-md-12">
        <div class="x_panel">
          <div style="padding-bottom:5px;">
            <button class="btn btn-default btn-file" onclick="showTaskModal()" style="width:100%;">
              Create a New Scheduler Task
            </button>
          </div>
          <div style="padding-bottom:5px;">
            <button class="btn btn-default btn-file" onclick="scheduler('pause')" style="width:100%;">
              Pause Scheduler
            </button>
          </div>
          <div style="padding-bottom:5px;">
            <button class="btn btn-default btn-file" onclick="scheduler('resume')" style="width:100%;">
              Resume Scheduler
            </button>
          </div>
          <div class="page-title">
            <div class="title_left">
              <h3>Existing Scheduler Tasks</h3>
            </div>
          </div>
          <div style="height:80vh;" class="x_content">
            <table id="table" class="table table-striped table-bordered dt-responsive nowrap" cellspacing="0" width="100%">
              <thead>
                <tr>
                  <th style="width: 10%">Name</th>
                  <th style="width: 10%">Description</th>
                  <th style="width: 10%">Service / Workflow</th>
                  <th style="width: 10%">Start date</th>
                  <th style="width: 10%">End date</th>
                  <th style="width: 10%">Frequency</th>
                  <th id="status" style="width: 5%">Status</th>
                  <th style="width: 5%">Action</th>
                  <th style="width: 5%">Edit</th>
                  <th style="width: 5%">Duplicate</th>
                  <th style="width: 5%">Delete</th>
                </tr>
              </thead>
              <tbody></tbody>
            </table>
            <!-- end project list -->
          </div>
        </div>
      </div>
    </div>
  </div>
{% endblock content %}

{% block javascripts %}
  {{ super() }}
  <script>
    var fields = {{ fields|tojson|safe }}
    var tasks = {{ tasks|tojson|safe }}
  </script>
  <!-- Task management -->
  <script src="{{ url_for('scheduling_blueprint.static', filename='taskCommonMethods.js') }}"></script>
  <script src="{{ url_for('scheduling_blueprint.static', filename='taskManagement.js') }}"></script>
{% endblock javascripts %}
